import subprocess
import os
import trufflehog3

# Specify the repository URL and directory to clone it to
repo_url = 'https://github.com/Spiderinattack/Devops-AWS-Jenkins.git'
repo_dir = '/var/lib/jenkins/workspace/Trufflehog_Job'
   
# Use trufflehog to search for secrets in the latest commits
output = subprocess.check_output(['trufflehog3', '--max_depth', '10', '--regex', '--entropy', 'false'])

# Print the output
print(output.decode('utf-8'))
